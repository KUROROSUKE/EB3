<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>外部Molファイル読み込み</title>
  <script src="https://3dmol.org/build/3Dmol-min.js"></script>
</head>
<body>
  <h1>外部Molファイルを表示</h1>
  <input id="molNameInput">
  <button onclick="viewMol()">変更</button>
  <div style="width:100%; height:100%"><div id="viewer" style="width:100%; height:100%"></div></div>

  <script>
    function viewMol() {
      // 例: サーバー上の mol ファイルのURL
      let molName = document.getELementById("molNameInput").textContent;
      const molUrl = `https://kurorosuke.github.io/MolData/${molName}.mol`;
  
      fetch(molUrl)
        .then(response => response.text())
        .then(moldata => {
          let viewer = $3Dmol.createViewer("viewer", {backgroundColor: "white"});
          viewer.addModel(moldata, "mol");
          viewer.setStyle({}, {stick: {}, sphere: {scale: 0.3}});
          viewer.zoomTo();
          viewer.render();
        })
        .catch(error => console.error("読み込みエラー:", error));
    }
  </script>
</body>
</html>
